#set( $tools = $loader.newInstance("Tools") )
##--------------------------------------------------------------------------------------------------------
package ${target.javaPackageFromFolder(${SRC})};

import java.util.ArrayList;
import java.util.List;

import javax.annotation.Resource;

import org.springframework.data.domain.Page;
import org.springframework.data.domain.Pageable;
import org.springframework.stereotype.Component;
import org.springframework.transaction.annotation.Transactional;
import ${ENTITY_PKG}.${entity.name};
#if ( $entity.hasCompositePrimaryKey() )
import ${ENTITY_PKG}.${tools.keyType($entity)};
#end
import ${ROOT_PKG}.dao.jpa.${entity.name}Dao;
import ${ROOT_PKG}.dao.repository.${entity.name}Repository;
import ${ROOT_PKG}.service.${entity.name}Service;

/**
 * Service : ${entity.name}.
 */
@Component
@Transactional
public class ${entity.name}ServiceImpl implements ${entity.name}Service {
	
	@Resource
	private ${entity.name}Dao ${entity.name.toLowerCase()}Dao;
	@Resource
	private ${entity.name}Repository ${entity.name.toLowerCase()}Repository;
	
	@Transactional(readOnly=true)
	public ${entity.name} findById(final ${tools.keyType($entity)} ${tools.keyName($entity)}) {
		return ${entity.name.toLowerCase()}Repository.findOne(${tools.keyName($entity)});
	}
	
	@Transactional(readOnly=true)
	public List<${entity.name}> findAll() {
		List<${entity.name}> ${entity.name.toLowerCase()}s = new ArrayList<${entity.name}>();
		for (${entity.name} ${entity.name.toLowerCase()} : ${entity.name.toLowerCase()}Repository.findAll()) {
			${entity.name.toLowerCase()}s.add(${entity.name.toLowerCase()});
		}
		return ${entity.name.toLowerCase()}s;
	}
	
	@Transactional(readOnly=true)
	public Page<${entity.name}> findAllByPage(Pageable pageable) {
		return ${entity.name.toLowerCase()}Repository.findAll(pageable);
	}
	
	public ${entity.name} save(final ${entity.name} ${entity.name.toLowerCase()}) {
		return ${entity.name.toLowerCase()}Repository.save(${entity.name.toLowerCase()});
	}

	public void delete(final ${tools.keyType($entity)} ${tools.keyName($entity)}) {
		${entity.name.toLowerCase()}Repository.delete(${tools.keyName($entity)});
	}

}
